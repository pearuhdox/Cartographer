playsound minecraft:entity.generic.explode hostile @a[distance=..16] ~ ~ ~ 1 1.25

particle minecraft:explosion ~ ~-0.5 ~ 1.5 0 1.5 0 25 normal

particle minecraft:dust 0.792 0.792 0.792 0.5 ~3 ~0.5 ~ 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.625 ~0.5 ~0.375 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.625 ~0.5 ~0.75 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.25 ~0.5 ~1.125 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.25 ~0.5 ~1.5 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~1.875 ~0.5 ~1.875 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~1.5 ~0.5 ~2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~1.125 ~0.5 ~2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~0.75 ~0.5 ~2.625 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~0.375 ~0.5 ~2.625 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~ ~0.375 ~3 0.4 0 0.4 0.01 3 normal @a

particle minecraft:dust 0.792 0.792 0.792 0.5 ~-3 ~0.5 ~ 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.625 ~0.5 ~0.375 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.625 ~0.5 ~0.75 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.25 ~0.5 ~1.125 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.25 ~0.5 ~1.5 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-1.875 ~0.5 ~1.875 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-1.5 ~0.5 ~2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-1.125 ~0.5 ~2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-0.75 ~0.5 ~2.625 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-0.375 ~0.5 ~2.625 0.4 0 0.4 0.01 3 normal @a

particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.625 ~0.5 ~-0.375 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.625 ~0.5 ~-0.75 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.25 ~0.5 ~-1.125 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-2.25 ~0.5 ~-1.5 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-1.875 ~0.5 ~-1.875 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-1.5 ~0.5 ~-2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-1.125 ~0.5 ~-2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-0.75 ~0.5 ~-2.625 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~-0.375 ~0.5 ~-2.625 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~ ~0.5 ~-3 0.4 0 0.4 0.01 3 normal @a

particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.625 ~0.5 ~-0.375 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.625 ~0.5 ~-0.75 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.25 ~0.5 ~-1.125 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~2.25 ~0.5 ~-1.5 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~1.875 ~0.5 ~-1.875 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~1.5 ~0.5 ~-2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~1.125 ~0.5 ~-2.25 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~0.75 ~0.5 ~-2.625 0.4 0 0.4 0.01 3 normal @a
particle minecraft:dust 0.792 0.792 0.792 0.5 ~0.375 ~0.5 ~-2.625 0.4 0 0.4 0.01 3 normal @a

execute store result score $aftershock ca.ability_dmg run attribute @s generic.attack_damage get
scoreboard players operation $aftershock ca.ability_dmg /= $2 ca.CONSTANT

scoreboard players operation @a[distance=..3.5] cdl.damage_queue = $aftershock ca.ability_dmg
scoreboard players set @a[distance=..3.5,tag=!no_cdl_msg] cdl.death_id 310204
tag @a[distance=..3.5] remove no_cdl_msg

execute as @a[distance=..3.5] at @s run function cd:lib/player/damage/normal

data modify entity @s Motion[1] set value 0.4