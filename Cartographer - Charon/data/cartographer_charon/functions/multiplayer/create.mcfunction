execute if score @s ca.boons matches 1.. run data modify storage cartographer_charon:bundle bundle.tag.Items set value []

summon interaction ~ ~0.7 ~ {Tags:["ca.charon_shade_interaction"],width:0.6f,height:1.25f,Passengers:[{id:"minecraft:allay",Invulnerable:1b,Glowing:1b,CustomNameVisible:1b,Team:"CharonCageVisual",PersistenceRequired:1b,NoAI:1b,Health:20f,Tags:["charon.multiplayer_shade","new"],CustomName:'{"text":"Fallen Player","color":"aqua","italic":false}',Attributes:[{Name:generic.max_health,Base:20}],Passengers:[{id:"text_display",Tags:["ca.charon_shade_text"],text:'[{"text":"Hold [","color":"white","italic":false},{"keybind":"key.use","color":"aqua","italic":false},{"text":"] to\\nrevive this player!","color":"white","italic":false}]',background: 0,billboard:"vertical",line_width:220,interpolation_duration:0,start_interpolation:0,transformation:[0.700f, 0.000f, 0.000f,0.000f,0.000f, 0.700f, 0.000f,-1.100f,0.000f, 0.000f, 0.700f,0.000f,0.000f, 0.000f, 0.000f,1.000f],brightness:{sky:15,block:15}}]}]}

execute as @e[type=allay,distance=..1.5,sort=nearest,tag=charon.multiplayer_shade,tag=new] at @s run function cartographer_charon:multiplayer/fill