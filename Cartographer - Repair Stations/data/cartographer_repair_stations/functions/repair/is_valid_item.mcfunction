execute if entity @s[nbt={Item:{id:"minecraft:wooden_sword"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:wooden_axe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:wooden_shovel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:wooden_pickaxe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:wooden_hoe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:stone_sword"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:stone_axe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:stone_shovel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:stone_pickaxe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:stone_hoe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:golden_sword"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_axe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_shovel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_pickaxe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_hoe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:iron_sword"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_axe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_shovel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_pickaxe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_hoe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:diamond_sword"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_axe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_shovel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_pickaxe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_hoe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:netherite_sword"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_axe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_shovel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_pickaxe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_hoe"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:bow"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:crossbow"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:trident"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:shield"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:fishing_rod"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:carrot_on_a_stick"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:warped_fungus_on_a_stick"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:shears"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:flint_and_steel"}}] run data modify entity @e[tag=repair_display,limit=1] HandItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:leather_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:turtle_helmet"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[3] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:leather_chestplate"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_chestplate"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_chestplate"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_chestplate"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_chestplate"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_chestplate"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:elytra"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[2] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:leather_leggings"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[1] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_leggings"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[1] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_leggings"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[1] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_leggings"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[1] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_leggings"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[1] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_leggings"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[1] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:leather_boots"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:golden_boots"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_boots"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:iron_boots"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:diamond_boots"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[0] set from entity @s Item
execute if entity @s[nbt={Item:{id:"minecraft:netherite_boots"}}] run data modify entity @e[tag=repair_display,limit=1] ArmorItems[0] set from entity @s Item

execute if entity @s[nbt={Item:{id:"minecraft:wooden_sword"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:wooden_axe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:wooden_shovel"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:wooden_pickaxe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:wooden_hoe"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:stone_sword"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:stone_axe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:stone_shovel"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:stone_pickaxe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:stone_hoe"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:golden_sword"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_axe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_shovel"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_pickaxe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_hoe"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:iron_sword"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_axe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_shovel"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_pickaxe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_hoe"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:diamond_sword"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_axe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_shovel"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_pickaxe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_hoe"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:netherite_sword"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_axe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_shovel"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_pickaxe"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_hoe"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:bow"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:crossbow"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:trident"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:shield"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:fishing_rod"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:carrot_on_a_stick"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:warped_fungus_on_a_stick"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:shears"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:flint_and_steel"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:leather_helmet"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_helmet"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_helmet"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_helmet"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_helmet"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_helmet"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:turtle_helmet"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:leather_chestplate"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_chestplate"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_chestplate"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_chestplate"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_chestplate"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_chestplate"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:elytra"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:leather_leggings"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_leggings"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_leggings"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_leggings"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_leggings"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_leggings"}}] run tag @s add valid

execute if entity @s[nbt={Item:{id:"minecraft:leather_boots"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:golden_boots"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:chainmail_boots"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:iron_boots"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:diamond_boots"}}] run tag @s add valid
execute if entity @s[nbt={Item:{id:"minecraft:netherite_boots"}}] run tag @s add valid

execute if entity @s[nbt={Item:{tag:{Damage:0}}}] run tag @s remove valid
execute if entity @s[nbt={Item:{tag:{Unbreakable:1}}}] run tag @s remove valid
execute if entity @s[nbt={Item:{tag:{Unbreakable:1b}}}] run tag @s remove valid

execute if entity @s[nbt={Item:{tag:{Damage:0}}}] run tag @s add full
execute if entity @s[nbt={Item:{tag:{Unbreakable:1}}}] run tag @s add full
execute if entity @s[nbt={Item:{tag:{Unbreakable:1b}}}] run tag @s add full

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_sword"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_axe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_shovel"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_pickaxe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_hoe"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_sword"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_axe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_shovel"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_pickaxe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_hoe"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_sword"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_axe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_shovel"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_pickaxe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_hoe"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_sword"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_axe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_shovel"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_pickaxe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_hoe"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_sword"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_axe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_shovel"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_pickaxe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_hoe"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_sword"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_axe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_shovel"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_pickaxe"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_hoe"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:bow"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:crossbow"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:trident"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:shield"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:fishing_rod"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:carrot_on_a_stick"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:warped_fungus_on_a_stick"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:shears"}}] run tag @s add held
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:flint_and_steel"}}] run tag @s add held

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_helmet"}}] run tag @s add helm
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_helmet"}}] run tag @s add helm
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_helmet"}}] run tag @s add helm
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_helmet"}}] run tag @s add helm
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_helmet"}}] run tag @s add helm
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_helmet"}}] run tag @s add helm
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:turtle_helmet"}}] run tag @s add helm

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_chestplate"}}] run tag @s add chest
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_chestplate"}}] run tag @s add chest
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_chestplate"}}] run tag @s add chest
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_chestplate"}}] run tag @s add chest
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_chestplate"}}] run tag @s add chest
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_chestplate"}}] run tag @s add chest
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:elytra"}}] run tag @s add chest

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_leggings"}}] run tag @s add legs
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_leggings"}}] run tag @s add legs
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_leggings"}}] run tag @s add legs
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_leggings"}}] run tag @s add legs
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_leggings"}}] run tag @s add legs
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_leggings"}}] run tag @s add legs

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_boots"}}] run tag @s add feet
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_boots"}}] run tag @s add feet
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_boots"}}] run tag @s add feet
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_boots"}}] run tag @s add feet
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_boots"}}] run tag @s add feet
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_boots"}}] run tag @s add feet

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_sword"}}] run tag @s add wood
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_axe"}}] run tag @s add wood
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_shovel"}}] run tag @s add wood
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_pickaxe"}}] run tag @s add wood
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:wooden_hoe"}}] run tag @s add wood

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_sword"}}] run tag @s add stone
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_axe"}}] run tag @s add stone
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_shovel"}}] run tag @s add stone
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_pickaxe"}}] run tag @s add stone
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:stone_hoe"}}] run tag @s add stone

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_sword"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_axe"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_shovel"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_pickaxe"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_hoe"}}] run tag @s add gold

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_sword"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_axe"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_shovel"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_pickaxe"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_hoe"}}] run tag @s add iron

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_sword"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_axe"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_shovel"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_pickaxe"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_hoe"}}] run tag @s add diamond

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_sword"}}] run tag @s add netherite
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_axe"}}] run tag @s add netherite
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_shovel"}}] run tag @s add netherite
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_pickaxe"}}] run tag @s add netherite
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_hoe"}}] run tag @s add netherite

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:bow"}}] run tag @s add string
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:crossbow"}}] run tag @s add string
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:trident"}}] run tag @s add quartz

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:shield"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:fishing_rod"}}] run tag @s add string
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:carrot_on_a_stick"}}] run tag @s add carrot
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:warped_fungus_on_a_stick"}}] run tag @s add fungus
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:shears"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:flint_and_steel"}}] run tag @s add iron

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_helmet"}}] run tag @s add leather
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_helmet"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_helmet"}}] run tag @s add chain
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_helmet"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_helmet"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_helmet"}}] run tag @s add netherite
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:turtle_helmet"}}] run tag @s add scute

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_chestplate"}}] run tag @s add leather
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_chestplate"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_chestplate"}}] run tag @s add chain
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_chestplate"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_chestplate"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_chestplate"}}] run tag @s add netherite
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:elytra"}}] run tag @s add membrane

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_leggings"}}] run tag @s add leather
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_leggings"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_leggings"}}] run tag @s add chain
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_leggings"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_leggings"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_leggings"}}] run tag @s add netherite

execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:leather_boots"}}] run tag @s add leather
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:golden_boots"}}] run tag @s add gold
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:chainmail_boots"}}] run tag @s add chain
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:iron_boots"}}] run tag @s add iron
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:diamond_boots"}}] run tag @s add diamond
execute if entity @s[tag=valid] if entity @s[nbt={Item:{id:"minecraft:netherite_boots"}}] run tag @s add netherite

execute as @s[tag=held] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add held
execute as @s[tag=helm] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add helm
execute as @s[tag=chest] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add chest
execute as @s[tag=legs] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add legs
execute as @s[tag=feet] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add feet

execute as @s[tag=wood] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add wood
execute as @s[tag=stone] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add stone
execute as @s[tag=leather] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add leather
execute as @s[tag=string] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add string
execute as @s[tag=quartz] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add quartz
execute as @s[tag=chain] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add chain
execute as @s[tag=scute] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add scute
execute as @s[tag=carrot] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add carrot
execute as @s[tag=fungus] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add fungus
execute as @s[tag=iron] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add iron
execute as @s[tag=gold] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add gold
execute as @s[tag=diamond] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add diamond
execute as @s[tag=netherite] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add netherite
execute as @s[tag=membrane] at @s if entity @a[distance=..7] as @e[tag=repair_display] at @s run tag @s add membrane

execute if entity @s[tag=valid] run tag @p add nearest_player
execute if entity @s[tag=valid] run tp @p ~ ~-1 ~-1.5 0 -15
execute if entity @s[tag=valid] run tp @a[distance=..7,tag=!nearest_player] ~ ~-1 ~-7.5
execute if entity @s[tag=valid] run kill @s

execute unless entity @s[tag=valid] run kill @e[tag=repair_display,distance=..3,limit=1]

execute if entity @s[tag=!valid,tag=!full] unless entity @e[distance=..3,tag=repair_invalid] run summon armor_stand ~ ~0.35 ~ {Marker:1b,Invisible:1b,Tags:["repair_invalid"],CustomNameVisible:1,CustomName:'[{"text":"This item cannot be repaired!","color":"red"}]'}
execute if entity @s[tag=!valid,tag=full] unless entity @e[distance=..3,tag=repair_invalid] run summon armor_stand ~ ~0.35 ~ {Marker:1b,Invisible:1b,Tags:["repair_invalid"],CustomNameVisible:1,CustomName:'[{"text":"This item is at full durability!","color":"red"}]'}
execute if entity @s[tag=!valid,tag=full] run tag @s remove full

execute unless entity @e[distance=..3,tag=repair_invalid] run function cartographer_repair_stations:repair/create_barriers

kill @e[limit=1,sort=nearest,tag=repair_instruction_1,distance=..3]
kill @e[limit=1,sort=nearest,tag=repair_instruction_2,distance=..3]
kill @e[limit=1,sort=nearest,tag=repair_instruction_3,distance=..3]
kill @e[limit=1,sort=nearest,tag=repair_instruction_4,distance=..3]
execute as @e[type=villager,tag=void_bag,distance=..5] at @s run function cartographer_repair_stations:void_bag/return_items
tp @e[type=villager,tag=void_bag,limit=1,distance=..3] ~ -130 ~