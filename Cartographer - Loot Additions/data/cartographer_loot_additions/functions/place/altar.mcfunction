# execute align xyz positioned ~0.5 ~ ~0.5 run summon minecraft:block_display ~ ~ ~ {block_state:{Name:"minecraft:end_stone_bricks"},Tags:["ca.loot_altar_piece"],interpolation_duration:0,start_interpolation:0,transformation:[0.400f, 0.000f, 0.000f,-0.200f,0.000f, 0.400f, 0.000f,0.450f,0.000f, 0.000f, 0.400f,-0.200f,0.000f, 0.000f, 0.000f,1.000f],brightness:{sky:8,block:8},Passengers:[{id:"minecraft:block_display",Tags:["ca.loot_altar_piece"],block_state:{Name:"minecraft:end_stone_bricks"},interpolation_duration:0,start_interpolation:0,transformation:[0.212f, 0.000f, 0.212f,-0.210f,0.000f, 0.300f, 0.000f,0.150f,-0.212f, 0.000f, 0.212f,0.000f,0.000f, 0.000f, 0.000f,1.000f],brightness:{sky:8,block:8},Passengers:[{id:"minecraft:block_display",Tags:["ca.loot_altar_piece"],block_state:{Name:"minecraft:sculk"},interpolation_duration:0,start_interpolation:0,transformation:[0.900f, 0.000f, 0.000f,-0.450f,0.000f, 0.200f, 0.000f,0.000f,0.000f, 0.000f, 0.900f,-0.450f,0.000f, 0.000f, 0.000f,1.000f],brightness:{sky:8,block:8},Passengers:[{id:"minecraft:block_display",Tags:["ca.loot_altar_piece","ca.loot_altar_top"],block_state:{Name:"minecraft:sculk_shrieker"},interpolation_duration:0,start_interpolation:0,transformation:[0.700f, 0.000f, 0.000f,-0.350f,0.000f, 0.700f, 0.000f,0.650f,0.000f, 0.000f, 0.700f,-0.350f,0.000f, 0.000f, 0.000f,1.000f],brightness:{sky:8,block:8},Passengers:[{id:"minecraft:block_display",Tags:["ca.loot_altar_blocker","ca.loot_altar_piece"],block_state:{Name:"minecraft:sculk"},interpolation_duration:0,start_interpolation:0,transformation:[0.500f, 0.000f, 0.000f,-0.250f,0.000f, 0.500f, 0.000f,0.750f,0.000f, 0.000f, 0.500f,-0.250f,0.000f, 0.000f, 0.000f,1.000f],brightness:{sky:3,block:3}}]}]}]}]}

# execute align xyz positioned ~0.5 ~ ~0.5 as @e[type=block_display,tag=ca.loot_altar_blocker,sort=nearest,limit=1,distance=..3] at @s run data merge entity @s {interpolation_duration:15,start_interpolation:0,transformation:[0.000f, 0.000f, 0.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f,0.000f, 0.000f, 0.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f]}

execute align xyz positioned ~0.5 ~0.5 ~0.5 run setblock ~ ~ ~ sculk_catalyst replace

execute align xyz positioned ~0.5 ~1 ~0.5 run summon item_frame ~ ~ ~ {Facing:1b,Tags:["ca.loot_altar_frame_setup"]} 

execute as @e[type=item_frame,tag=ca.loot_altar_frame_setup,sort=nearest,limit=1] run function cartographer_loot_additions:place/create_altar_frame

kill @s