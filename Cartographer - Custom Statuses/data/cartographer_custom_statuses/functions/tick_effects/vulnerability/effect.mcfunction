data modify storage ca.exposed_data lvl set value {}
data modify storage ca.exposed_data hurt set value {}

data modify storage ca.exposed_data lvl set from entity @s ActiveEffects[{Id:31}]
data modify storage ca.exposed_data hurt set from entity @s HurtTime

execute store result score @s ca.exposed_lvl run data get storage ca.exposed_data lvl.Amplifier
scoreboard players add @s ca.exposed_lvl 1

execute store result score @s ca.exposed_hit run data get storage ca.exposed_data hurt

execute if score @s ca.exposed_lvl matches 1.. if score @s ca.exposed_hit matches 9 run function cartographer_custom_statuses:tick_effects/vulnerability/hit

execute if entity @s[scores={ca.exposed_lvl=1..,ca.exposed_hit=9}] run particle minecraft:glow ~ ~1 ~ 0.2 0.5 0.2 10 10 normal

particle minecraft:dust 0.067 0.525 0.412 1 ~ ~1 ~ 0.25 0.4 0.25 0 1 normal
particle minecraft:dust 0.067 0.525 0.412 0.75 ~ ~1 ~ 0.25 0.4 0.25 0 1 normal
particle minecraft:dust 0.067 0.525 0.412 0.5 ~ ~1 ~ 0.25 0.4 0.25 0 1 normal
particle minecraft:dust 0.067 0.525 0.412 0.25 ~ ~1 ~ 0.25 0.4 0.25 0 1 normal